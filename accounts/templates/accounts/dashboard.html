{% extends 'accounts/dashboard_base.html' %}

{% block title %}Dashboard - Resume Builder{% endblock %}

{% block content %}
<div class="bg-white p-8 rounded shadow-md">
    <h2 class="text-2xl font-bold mb-6">Welcome to your Dashboard</h2>
    <p class="mb-4">Here is an overview of your resume progress:</p>

    {% if resumes %}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for resume in resumes %}
                <div class="p-6 border rounded shadow-sm">
                    <h3 class="text-xl font-semibold">{{ resume.title }}</h3>
                    <p class="text-gray-500 text-sm mb-2">
                        Created on: {{ resume.created_at|date:"M d, Y" }}
                    </p>
                    <p class="text-gray-700 mb-4">
                        Last updated: {{ resume.updated_at|date:"M d, Y" }}
                    </p>
                    <p>
                        Status: 
                        {% if resume.is_complete %}
                            <span class="text-green-600 font-bold">Complete</span>
                        {% else %}
                            <span class="text-red-600 font-bold">In Progress</span>
                        {% endif %}
                    </p>
                    <div class="mt-4">
                        <a href="{% url 'resume_preview' resume.slug %}" class="text-blue-600 hover:underline">Preview</a> |
                        {% comment %} <a href="{% url 'resume_edit' resume.slug %}" class="text-blue-600 hover:underline">Edit</a> | {% endcomment %}
                        <a href="{% url 'delete_resume' resume.slug %}" class="text-red-600 hover:underline"
                           onclick="return confirm('Are you sure you want to delete this resume?')">Delete</a>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-gray-700">You have not created any resumes yet. <a href="{% url 'create_resume' %}" class="text-blue-600 hover:underline">Start creating one now</a>!</p>
    {% endif %}
</div>
{% endblock %}
